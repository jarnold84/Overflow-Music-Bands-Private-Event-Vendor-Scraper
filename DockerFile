# Use Apify base image with Playwright support
FROM apify/actor-node-playwright-chrome:22-1.54.1

# Copy files explicitly
COPY src/ src/
COPY package.json ./
COPY tsconfig.json ./

# üîç Debug: Print directory structure after copy
RUN echo "=== Contents of working directory ===" && ls -R

# Install dependencies
RUN npm install

# Compile TypeScript
RUN npm run build

# Run the actor
CMD ["npm", "start"]
